<app-header> </app-header>
<div class="container">
  <div class="pregrid-img">
    <img [src]="user.url" class="img-responsive" width="250px" height="250px" (error)="user.url = 'assets/images/profile.jpg'">
    <button class="btn edit-img" data-toggle="modal" data-target="#exampleModal" [hidden]="!exist_user"> <i class="fas fa-plus fa-2x"></i></button>
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
      aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Enter Image URL</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <input class="form-control w-100" placeholder="Enter link to image" type="url" name="urlimg" [(ngModel)]="urlimg">
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary" (click)="saveUrl()">Save changes</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="pregrid-profile">
    <div class="pregrid-profile-name">
      <h1> {{user.name}} </h1>
    </div>
    <div class="pregrid-profile-bio">
      <strong> {{ user.bio }} </strong>
    </div>
    <div class="row mt-5">
      <div class="col">
        <div class="jumbotron pregrid-profile-details">
          <h2> Intro </h2>
          <p> <i class="fas fa-envelope"></i> &nbsp; Email : {{ user.email }} </p>
          <p> <i class="far fa-user"></i> &nbsp; Gender : {{ user.gender }} </p>
          <p> <i class="fas fa-city"></i> &nbsp; City : {{ user.city }} </p>
          <p> <i class="fas fa-calendar-day"></i> &nbsp; Date of Birth : {{ user.dob }} </p>
          <div class="intro">
            <button class="btn btn-intro btn-primary" data-toggle="collapse" href="#multiCollapseExample1" role="button"
              aria-expanded="false" aria-controls="multiCollapseExample1" [hidden]="!exist_user"> <i class="fas fa-plus"></i> &nbsp; <span
                *ngIf="user.bio"> Edit Bio </span> <span *ngIf="!user.bio"> Add Bio </span>
            </button>
            <div class="collapse multi-collapse" id="multiCollapseExample1">
              <div class="card-body btn-popper">
                <input type="text" class="form-control" placeholder="Enter bio..." name="user_bio" [(ngModel)]="user_bio">
                <button type="button" class="btn btn-success mt-2" (click)="saveBio()"> Save </button>
              </div>
            </div><br>
            <button class="btn btn-intro btn-primary mt-2" data-toggle="collapse" href="#multiCollapseExample2" role="button"
              aria-expanded="false" aria-controls="multiCollapseExample2" [hidden]="!exist_user"> <i class="fas fa-plus"></i> &nbsp; <span
                *ngIf="user.dob"> Edit Date of Birth </span> <span *ngIf="!user.dob"> Add Date
                of Birth </span> </button>
            <div class="collapse multi-collapse" id="multiCollapseExample2">
              <div class="card-body btn-popper">
                <input type="date" class="form-control" name="user_dob" [(ngModel)]="user_dob">
                <button type="button" class="btn btn-success mt-2" (click)="saveDob()"> Save </button>
              </div>
            </div><br>
            <button class="btn btn-intro btn-primary mt-2" data-toggle="collapse" href="#multiCollapseExample3" role="button"
              aria-expanded="false" aria-controls="multiCollapseExample3" [hidden]="!exist_user"> <i class="fas fa-plus"></i> &nbsp; <span
                *ngIf="user.city"> Edit City </span> <span *ngIf="!user.city"> Add City </span>
            </button>
            <div class="collapse multi-collapse" id="multiCollapseExample3">
              <div class="card-body btn-popper">
                <input type="text" class="form-control" placeholder="Enter city..." name="user_city" [(ngModel)]="user_city">
                <button type="button" class="btn btn-success mt-2" (click)="saveCity()"> Save </button>
              </div>
            </div><br>
          </div>
        </div>
      </div>
    </div>
    <div class="pregrid-profile-posts">
      <h2> Posts </h2>
      <hr class="post-line">
      <div class="post">
        <div class="row">
          <div class="col-md-6">
            <div class="posts" *ngFor="let item of user_post">
              <div class="card">
                <h5 class="card-head"> <img src="https://mnsearch.org/wp-content/uploads/2014/10/blank-2017.jpg" class="img-profile mr-2"
                    width="30px" height="30px"> {{user.name}} <i class="fas fa-ellipsis-v float-right"></i>
                </h5>
                <div class="card-body">
                  <p class="card-text"> {{item.value.status}} </p>
                  <button type="button" class="btn btn-like" (click)="giveLike(item.key)" id="back-color"> <i class="fas fa-thumbs-up"
                      [style.color]="(isLiked(item.value))?'#3a5998':'black'"></i> {{ getLikes(item.value) }}
                  </button>
                  <button class="btn btn-delete ml-2" *ngIf="user.userid === item.value.userid" (click)="removeStatus(item.key)" [hidden]="!exist_user">
                    <i class="fas fa-trash"></i> </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>